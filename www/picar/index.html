<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-110974761-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-110974761-1');
    </script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Jackson 2012</title>

    <!-- Bootstrap core CSS -->
    <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link rel="stylesheet" href="../vendor/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="../vendor/simple-line-icons/css/simple-line-icons.css">
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Catamaran:100,200,300,400,500,600,700,800,900" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Muli" rel="stylesheet">

    <!-- Code formmating scripts -->
    <link rel="stylesheet" href="../css/highlight.pack.css">
    <script src="../js/highlight.pack.js"></script>

    <!-- Custom styles for this template -->
    <link href="../css/jackson2012.css" rel="stylesheet">
    <link href="css/picar.css" rel="stylesheet">
    <script>hljs.initHighlightingOnLoad();</script>

</head>

<body id="page-top">

    <!-- Navigation -->
    <nav class="navbar navbar-light fixed-top always-shrink" id="mainNav">
        <div class="container nav-container-override">
            <div>
                <a class="navbar-brand js-scroll-trigger" href="/">Jackson 2012</a>
                <i class="bullet">&bull;</i>
                <a class="navbar-brand js-scroll-trigger" href="#page-top">Pi Car</a>
            </div>
            <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive"
                aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                Menu
                <i class="fa fa-bars"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="#zero">0.&emsp;Component List</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="#one">1.&emsp;Install Raspbian OS</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="#two">2.&emsp;Setup Node-Red</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="#three">3.&emsp;Install Mjpg-Streamer</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="#four">4.&emsp;Assemble the Car</a>
                    </li>
                </ul>
            </div>
    </nav>

    <header class="masthead">
        <div class="container h-100">
            <div class="row h-100">
                <div class="col-lg-7 my-auto">
                    <div class="header-content mx-auto">

                        <h1 class="mb-5">Raspi Car</h1>
                        <p>
                            This is a project to make an internet controlled car from an old RC car and a Raspberry Pi.
                            It consists of a web server running on a Raspberry Pi Zero W, a webcam, and an old RC car.
                            The components may be purchased for about $50.00 making this an affordable and fun project.
                            Some soldering is required so you will need a soldering iron.
                        </p>

                        <h4>Jump To:</h4>
                        <ul start="0" class="text-left">
                            <li>
                                <a class="nav-link js-scroll-trigger" href="#zero">0.&emsp;Component List</a>
                            </li>
                            <li>
                                <a class="nav-link js-scroll-trigger" href="#one">1.&emsp;Install Raspbian OS</a>
                            </li>
                            <li>
                                <a class="nav-link js-scroll-trigger" href="#two">2.&emsp;Setup Node-Red</a>
                            </li>
                            <li>
                                <a class="nav-link js-scroll-trigger" href="#three">3.&emsp;Install Mjpg-Streamer</a>
                            </li>
                            <li>
                                <a class="nav-link js-scroll-trigger" href="#four">4.&emsp;Assemble the Car</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-5 my-auto">
                    <div class="device-container">
                        <div class="device">
                            <div class="screen">
                                <img src="../img/rccar.png" class="img-fluid" alt="">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <section class="guide" id="zero">
        <div class="container">
            <div class="row">
                <div class="col-md-8 mx-auto">

                    <h2 class="section-heading text-center">Component List</h2>
                    <div class="row">
                        <div class="col-md-12 mx-auto">
                            <p>
                                <ul>
                                    <li>
                                        <u>A Raspberry Pi Zero W</u>
                                        <br /> &emsp; A Raspberry Pi Zero W is a small single board computer made by the Raspbery
                                        Pi Foundation. For more information visit
                                        <a href="https://www.raspberrypi.org/">https://www.raspberrypi.org/</a> .
                                        It is perfect because of it's small size and built in Wifi.
                                    </li>
                                    <li>
                                        <u>Micro SD Card</u>
                                        <br/> &emsp; The Raspberry Pi will need one on which to install the OS.
                                        An 8GB or even a 4GB SD card for th OS is sufficient for this project.
                                    </li>
                                    <li>
                                        <u>USB Web Cam</u>
                                        <br /> &emsp; I recommend a Creative - Live! Cam which runs about $20.00. You may be able
                                        to find a less expensive one on ebay, just avoid shipments from China.
                                    </li>
                                    <li>
                                        <u>OTG micro USB-to-USB</u>
                                        <br/> &emsp; The Raspberry Pi USB input is a micro type so you will needed this to
                                        connect the camera to the Pi.
                                    </li>
                                    <li>
                                        <u>RC Car</u>
                                        <br /> &emsp; Maybe the most difficult component to get. Newer cars in the stores use LiPo
                                        batteries and have smaller electronics making them difficult to use. Thrift stores
                                        like Salvation Army or Goodwill are the best places. The transmitter won't be needed,
                                        so buy it even if it doesn't have one. Having said that, the cars there are sort
                                        of hit or miss. Often times they may not work, but for a price of 4-6 dollars a couple
                                        of duds won't break the bank. If you have bought more duds than you wanted and are
                                        feeling ambitious you could hobble together a car from working parts. If you are
                                        unable to find one with a battery you will need to purchase one which will increase
                                        the cost. When buying a car note the voltage required. Some cars use standard double
                                        A batteries and only run on 6 volts. Those will be difficult to use. For this guide I 
                                        will use a 9.6 volt battery.
                                    </li>
                                    <li>
                                        <u>NiCad Battery</u>
                                        <br /> &emsp; If you are unable to find an RC car with one you will need to get a seperate battery.
                                        You may decide in the future to get a higher capacity battery for more run time.
                                        A custom battery from Battery giant is what I used.
                                        A custom battery needs to have the Tamiya style connectors.
                                    </li>
                                    <li>
                                        <u>A USB Charging Adapter.</u>
                                        <br/> &emsp; One that would be used in a car outlet. This will drop the voltage down from
                                        9.6v to 5v, The operating voltage for the Raspberry Pi.
                                    </li>
                                    <li>
                                        <u>Jumper wires</u>
                                        <br /> &emsp; Male to female.
                                    </li>
                                    <li>
                                        <u>Wire</u>
                                        <br /> &emsp; 26 or 24 gage; If you can, get both black and red to keep it color coded.
                                    </li>
                                    <li>
                                        <u>Tamiya Big Style Connector Plugs</u>
                                        <br /> &emsp; Unwired. Connecter that RC car batteries use.
                                        If you get a custom battery make sure they use this style connector.
                                        Additional ones will be used to connect the car charger to the battery.
                                    </li>
                                    <li>
                                        <u>Mini HDMI Adapter or Cable</u>
                                        <br /> &emsp; The Raspberry Pi Zero uses a mini HDMI port.
                                        This will only be used in the intial stages of setup, 
                                        leaving the adapter available for other projects.
                                    </li>
                                </ul>
                            </p>
                            <hr>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="guide" id="one">
        <div class="container">
            <div class="row">
                <div class="col-md-8 mx-auto">

                    <h2 class="section-heading text-center">Install Raspbian OS</h2>
                    <div class="badges text-center">
                        <a class="badge-link" href="https://www.raspberrypi.org/downloads/">
                            <img src="../img/raspbian-badge.png" alt="">
                        </a>
                    </div>
                    <div class="row">
                        <div class="col-md-12 mx-auto">

                            <h4>Download Raspbian</h4>
                            <p>
                                You can get this image via direct download or torrent
                                <a href="https://www.raspberrypi.org/downloads/raspbian/">here</a>.
                                The regular version comes with a graphical user interface and will occupy more disk space.
                                Get the lite version because there will be no need for the user interface.
                                Every thing in this guide can be done with the command line interface.
                            </p>
                            
                            <h4>Download Win32 Disk Imager</h4>
                            <p>
                                The executable may be found
                                <a href="https://sourceforge.net/projects/win32diskimager/">here</a>. 
                                Extract the .img file from your Raspbian download and run the disk imager.
                                Select the file you extracted and your SD Card. Click <b>Write</b> to install the OS.
                                After that is done it is time to boot the Pi. Insert the SD card and connect it to a TV or monitor
                                via HDMI. Connect a keybord then provide power. After it boots, login with the default user
                                name "pi" and password "raspberry". Before anything we need to get the device onto the WiFi.
                                (For a more detailed guide check
                                <a href="https://www.raspberrypi.org/documentation/configuration/wireless/wireless-cli.md">here</a>.)
                            </p>

                            <h4>Set up WiFi</h4>
                            <p>
                                <p>To edit the supplicant file and enter your WiFi credentials, run:</p>
                            </p>

                            <p>    
                                <pre><code class="shell">  sudo nano /etc/wpa_supplicant/wpa_supplicant.conf</code></pre>
                            </p>

                            <p>
                                Edit the file to have these lines.
                            </p>

                            <p>
                                <pre><code class="bash">  network={
          ssid="name_of_wifi"
          psk="passkey_of_wifi"
  }</code></pre>
                            </p>

                            <p>
                                Press
                                <code class="no-highlight">ctrl-X</code> to save and exit.
                            </p>

                            <h4>Enable SSH</h4>
                            <p>
                                By default on Raspbian SSH is disabled. To enable it run:
                            </p>
                            <p>
                                <pre><code class="shell">  sudo systemctl enable ssh 
  sudo systemctl start ssh</code></pre>
                            </p>

                            <p>
                                Reboot by running
                            <p>
                                
                            <p>
                                <pre><code class="bash">  sudo reboot</code></pre>
                            </p>

                            <p>
                                Once it has rebooted login and type
                            </p>
                                
                            </p>
                                <pre><code class="bash">  ifconfig</code></pre>
                            </p>

                            <p>
                                Note the IP address. The Pi may now be disconnected from the TV/monitor and keyboard;
                                they are no longer needed. Further interfacing with the Pi can be done remotely with
                                an SSH client.
                                <a href="http://www.putty.org/">Putty</a>,
                                <a href="https://winscp.net/eng/download.php">WinSCP</a>, or
                                <a href="https://mobaxterm.mobatek.net/">MobaXterm</a>
                                will work. Select your favorite and log into the IP address from before with the default
                                username and password.
                            </p>

                            <p>
                                Before we enter any commands we we want to update the Pi to the latest. Run:
                                <pre><code class="shell">  sudo apt-get update
  sudo apt-get upgrade</code></pre>
                            </p>
                            <hr>
                        </div>
                    </div>
                </div>
    </section>

    <section class="guide" id="two">
        <div class="container">
            <div class="row">
                <div class="col-md-8 mx-auto">

                    <h2 class="section-heading text-center">Node Red</h2>
                    <div class="badges text-center">
                        <a class="badge-link" href="https://nodered.org/">
                            <img src="../img/nodered-badge.png" alt="">
                        </a>
                    </div>
                    <div class="row">
                        <div class="col-md-12 mx-auto">
                            <p>
                                Node Red will hadle the web pages and controlling the GPIOs. For a detailed setup guide visit
                                <a href="https://nodered.org/docs/hardware/raspberrypi">Node-RED : Running on Raspberry Pi</a>
                            </p>

                            <p>
                                To get the latest node red for Raspberry Pi run:
                                <pre><code class="shell">  bash &lt;(curl -sL https://raw.githubusercontent.com/node-red/raspbian-deb-package/master/resources/update-nodejs-and-nodered)</code></pre>
                            </p>

                            <p>
                                Adjust the settings for node red by running:
                                <pre><code class="shell">  nano /home/pi/.node-red/settings.js</code></pre>
                            </p>
                            <p>
                                And change the following settings:
                            </p>
                            <p>
                                <code class- "bash:">  httpAdminRoot: </code> to
                                <code class="bash">'/node-red/'</code>
                            </p>
                            <p>
                                <code class="bash">httpStatic: </code> to
                                <code class="bash">'/home/pi/.picar/www/'</code>
                            </p>
                            <p>
                                If needed, uncomment the lines first. This will set the default path of the editor to
                                <code class="html">http://hostname:1880/node-red/</code>
                                allowing the Pi Car page to be visible from the root.
                                The second setting tells node-red where to look for the web page assets.
                                This becomes the root directory for any web pages served by http nodes.
                            </p>
                            <p>
                                Download the web assets here
                                <a href="../assets/picar-nodered-www.zip">picar-nodered-www.zip</a>.
                                Unzip and copy with your client to
                                <code class="no-highlight">/home/pi/.picar</code> Create the directory as needed.
                            </p>

                            <p>
                                To set up the flows for this project I have provided three flows to import: Authentication,
                                Control, and Credentials. You can access Node-Red by opening a browser to the Pi's IP address
                                on port 1880 in the node-red directory (
                                <code class="html">http://ip_address/node-red</code>).
                            </p>

                            <h4>Authentication</h4>
                            <p>
                                Open the menu in the top left of the screen and select
                                <code class="no-highlight">Import &gt; Clipboard</code> Paste the following into a new flow.
                            </p>

                            <div class="btn-group btn-group-code" role="group">
                                <button id="show-picar-auth-flow-code" type="button" class="btn btn-info" data-toggle="collapse" data-target="#picar-auth-flow">Show Code</button>
                                <button id="copy-picar-auth-flow-code" type="button" class="btn btn-info">Copy Code</button>
                            </div>
                            <div id="picar-auth-flow" class="collapse hidden-code-block">
                                <pre><code class="json auth-code"> 
  [
  {
      "id": "acc22612.1a8258",
      "type": "file in",
      "z": "1fee60dc.191fff",
      "name": "auth.html",
      "filename": "/home/pi/.picar/www/auth.html",
      "format": "utf8",
      "sendError": true,
      "x": 520,
      "y": 80,
      "wires": [
          [
              "aff0c571.204548"
          ]
      ]
  },
  {
      "id": "9d08714e.9b236",
      "type": "function",
      "z": "1fee60dc.191fff",
      "name": "Get Submitted",
      "func": "var driver = msg.payload.driver.toLowerCase();\nvar key = msg.payload.key;\n\nmsg.driver = driver;\n\nvar keyObject = {};\nkeyObject[driver] = key;\n\nmsg.payload = JSON.stringify(keyObject);\nreturn msg;",
      "outputs": 1,
      "noerr": 0,
      "x": 160,
      "y": 100,
      "wires": [
          [
              "32ae2dc5.59e942"
          ]
      ]
  },
  {
      "id": "ab57849c.aa3bc8",
      "type": "function",
      "z": "1fee60dc.191fff",
      "name": "Store Hash",
      "func": "msg.key = msg.payload;\nreturn msg;",
      "outputs": 1,
      "noerr": 0,
      "x": 150,
      "y": 180,
      "wires": [
          [
              "b8ae7304.33a36"
          ]
      ]
  },
  {
      "id": "b8ae7304.33a36",
      "type": "file in",
      "z": "1fee60dc.191fff",
      "name": "keys",
      "filename": "/home/pi/.picar/www/keys",
      "format": "utf8",
      "sendError": true,
      "x": 130,
      "y": 220,
      "wires": [
          [
              "812830b9.9fe19"
          ]
      ]
  },
  {
      "id": "812830b9.9fe19",
      "type": "json",
      "z": "1fee60dc.191fff",
      "name": "",
      "x": 130,
      "y": 260,
      "wires": [
          [
              "b6755af4.76fc78"
          ]
      ]
  },
  {
      "id": "b6755af4.76fc78",
      "type": "function",
      "z": "1fee60dc.191fff",
      "name": "Validate",
      "func": "var keyRing = msg.payload;\nvar driver = msg.driver.toLowerCase();\nvar key = msg.key;\n\nif (keyRing[driver] &amp;&amp; keyRing[driver] === key) {\n    keyobject = {};\n    keyobject[driver] = key;\n    msg.cookies = {\n        carkey: {\n            value: JSON.stringify(keyobject),\n            maxAge: 10*365*24*60*60*1000\n        }\n    }\n    msg.payload = 'succeeded';\n    return msg\n}\nmsg.payload = 'failed';\nreturn msg;",
      "outputs": "1",
      "noerr": 0,
      "x": 140,
      "y": 300,
      "wires": [
          [
              "3b5b91b6.7d3a4e"
          ]
      ]
  },
  {
      "id": "3b5b91b6.7d3a4e",
      "type": "http response",
      "z": "1fee60dc.191fff",
      "name": "",
      "x": 270,
      "y": 300,
      "wires": []
  },
  {
      "id": "aff0c571.204548",
      "type": "http response",
      "z": "1fee60dc.191fff",
      "name": "",
      "x": 650,
      "y": 80,
      "wires": []
  },
  {
      "id": "d82fa1aa.d92c7",
      "type": "http in",
      "z": "1fee60dc.191fff",
      "name": "",
      "url": "/picar",
      "method": "get",
      "upload": false,
      "swaggerDoc": "",
      "x": 360,
      "y": 60,
      "wires": [
          [
              "3bd7d0a7.acf3a"
          ]
      ]
  },
  {
      "id": "a6603349.42ce1",
      "type": "file in",
      "z": "1fee60dc.191fff",
      "name": "keys",
      "filename": "/home/pi/.picar/www/keys",
      "format": "utf8",
      "sendError": true,
      "x": 350,
      "y": 140,
      "wires": [
          [
              "92e3b880.587308"
          ]
      ]
  },
  {
      "id": "92e3b880.587308",
      "type": "json",
      "z": "1fee60dc.191fff",
      "name": "",
      "x": 350,
      "y": 180,
      "wires": [
          [
              "4fa6a0c2.68daa"
          ]
      ]
  },
  {
      "id": "4fa6a0c2.68daa",
      "type": "function",
      "z": "1fee60dc.191fff",
      "name": "Validate",
      "func": "var keyring = msg.payload;\nvar submitted = msg.submitted;\nvar driver = Object.keys(submitted)[0].toLowerCase();\n\nvar key = submitted[driver];\n\nif (keyring[driver] &amp;&amp; keyring[driver] === key) {\n    return [null, msg];\n}\n\nreturn [msg, null];\n",
      "outputs": "2",
      "noerr": 0,
      "x": 360,
      "y": 220,
      "wires": [
          [
              "eba92dae.3e76e"
          ],
          [
              "ea78a51.6065e58"
          ]
      ]
  },
  {
      "id": "eba92dae.3e76e",
      "type": "file in",
      "z": "1fee60dc.191fff",
      "name": "auth.html",
      "filename": "/home/pi/.picar/www/auth.html",
      "format": "utf8",
      "sendError": true,
      "x": 500,
      "y": 200,
      "wires": [
          [
              "7a0630ad.57f1d"
          ]
      ]
  },
  {
      "id": "7a0630ad.57f1d",
      "type": "http response",
      "z": "1fee60dc.191fff",
      "name": "",
      "x": 630,
      "y": 220,
      "wires": []
  },
  {
      "id": "ea78a51.6065e58",
      "type": "file in",
      "z": "1fee60dc.191fff",
      "name": "main.html",
      "filename": "/home/pi/.picar/www/main.html",
      "format": "utf8",
      "sendError": true,
      "x": 500,
      "y": 240,
      "wires": [
          [
              "7a0630ad.57f1d"
          ]
      ]
  },
  {
      "id": "2da48ba9.6645b4",
      "type": "http in",
      "z": "1fee60dc.191fff",
      "name": "",
      "url": "/picar",
      "method": "post",
      "upload": false,
      "swaggerDoc": "",
      "x": 150,
      "y": 60,
      "wires": [
          [
              "9d08714e.9b236"
          ]
      ]
  },
  {
      "id": "3bd7d0a7.acf3a",
      "type": "function",
      "z": "1fee60dc.191fff",
      "name": "Get Cookie",
      "func": "var c = msg.req.cookies;\nif (c.carkey){\n    msg.payload = c.carkey;\n    msg.submitted = JSON.parse(c.carkey);\n    return [null, msg];\n}\nreturn [msg, null]",
      "outputs": "2",
      "noerr": 0,
      "x": 370,
      "y": 100,
      "wires": [
          [
              "acc22612.1a8258"
          ],
          [
              "a6603349.42ce1"
          ]
      ]
  },
  {
      "id": "32ae2dc5.59e942",
      "type": "hmac",
      "z": "1fee60dc.191fff",
      "name": "",
      "algorithm": "HmacSHA512",
      "key": "Enter-HMAC-Key-Here",
      "x": 130,
      "y": 140,
      "wires": [
          [
              "ab57849c.aa3bc8"
          ]
      ]
  }
  ]</code></pre>
                            </div>
                            <div class="nodered-screen">
                                <img src="../img/flow-authentication.png" />
                            </div>
                            <p>
                                Open the hmac node by double clicking it. Enter a secret key to encrypt passwords.
                                This key should be the same as the one in the Credentials flow (more on that).
                            </p>

                            <h4>Control</h4>
                            <p>
                                For the flow that will control the GPIOs, paste the following into a new flow.
                            </p>
    
                            <div class="btn-group btn-group-code" role="group">
                                <button id="show-picar-control-flow-code" type="button" class="btn btn-info" data-toggle="collapse" data-target="#picar-control-flow">Show Code</button>
                                <button id="copy-picar-control-flow-code" type="button" class="btn btn-info">Copy Code</button>
                            </div>

                            <div id="picar-control-flow" class="collapse hidden-code-block">
                                <pre><code class="json control-code">  
  [
  {
      "id": "54124946.bfd8e8",
      "type": "websocket in",
      "z": "8cc8cd00.37ee",
      "name": "",
      "server": "32f33346.bc3b9c",
      "client": "",
      "x": 130,
      "y": 160,
      "wires": [
          [
              "9ebd8f9d.38da"
          ]
      ]
  },
  {
      "id": "9ebd8f9d.38da",
      "type": "json",
      "z": "8cc8cd00.37ee",
      "name": "",
      "x": 290,
      "y": 160,
      "wires": [
          [
              "1bfe69cb.9c2b36"
          ]
      ]
  },
  {
      "id": "1bfe69cb.9c2b36",
      "type": "function",
      "z": "8cc8cd00.37ee",
      "name": "",
      "func": "var m = msg.payload;\n\nvar dmv = context.global.get('dmv')||{};\nvar license = m.License;\nvar now = (new Date()).getTime();\nif(dmv[license] + 300000 < now){\n    msg.payload = \"Connection Timeout\";\n    return [null, null, null, null, msg];\n}\n\nvar thrust = 'Idle';\nvar yaw = 'Straight';\n\nif(m.Forward == 1 &amp;&amp; m.Reverse == 1){\n    m.Forward = 0;\n    m.reverse = 0;\n}\nif(m.Left == 1 &amp;&amp; m.Right == 1){\n    m.Right = 0;\n    m.Left = 0;\n}\nif(m.Forward == 1){thrust = 'Forward';}\nif(m.Reverse == 1){thrust = 'Reverse';}\nif(m.Left == 1){yaw = 'Left';}\nif(m.Right == 1){yaw = 'Right';}\n\nvar text = thrust + ' ' + yaw;\n\nreturn [{payload: m.Forward},\n        {payload: m.Reverse},\n        {payload: m.Left},\n        {payload: m.Right},\n        {payload: text}];",
      "outputs": "5",
      "noerr": 0,
      "x": 410,
      "y": 160,
      "wires": [
          [
              "41fb4523.00becc"
          ],
          [
              "86393fb4.c8342"
          ],
          [
              "5cb79342.dd7d1c"
          ],
          [
              "e2b0e06c.1d6c"
          ],
          [
              "f8b5c537.a5adb8"
          ]
      ]
  },
  {
      "id": "f8b5c537.a5adb8",
      "type": "websocket out",
      "z": "8cc8cd00.37ee",
      "name": "",
      "server": "32f33346.bc3b9c",
      "client": "",
      "x": 560,
      "y": 280,
      "wires": []
  },
  {
      "id": "41fb4523.00becc",
      "type": "rpi-gpio out",
      "z": "8cc8cd00.37ee",
      "name": "",
      "pin": "35",
      "set": true,
      "level": "0",
      "freq": "",
      "out": "out",
      "x": 540,
      "y": 40,
      "wires": []
  },
  {
      "id": "5cb79342.dd7d1c",
      "type": "rpi-gpio out",
      "z": "8cc8cd00.37ee",
      "name": "",
      "pin": "38",
      "set": true,
      "level": "0",
      "freq": "",
      "out": "out",
      "x": 560,
      "y": 160,
      "wires": []
  },
  {
      "id": "86393fb4.c8342",
      "type": "rpi-gpio out",
      "z": "8cc8cd00.37ee",
      "name": "",
      "pin": "37",
      "set": true,
      "level": "0",
      "freq": "",
      "out": "out",
      "x": 580,
      "y": 100,
      "wires": []
  },
  {
      "id": "e2b0e06c.1d6c",
      "type": "rpi-gpio out",
      "z": "8cc8cd00.37ee",
      "name": "",
      "pin": "36",
      "set": true,
      "level": "0",
      "freq": "",
      "out": "out",
      "x": 580,
      "y": 220,
      "wires": []
  },
  {
      "id": "32f33346.bc3b9c",
      "type": "websocket-listener",
      "z": "8cc8cd00.37ee",
      "path": "/ws/picar",
      "wholemsg": "false"
  }
  ]</code></pre>
                            </div>
                            <div class="nodered-screen">
                                <img src="../img/flow-control.png" />
                            </div>
                            <p>
                                Note the pins use for controling the car.
                                Top to bottom they are: 35-forward, 37-reverse, 38-left, 36-right.
                                Use these pins when connecting the Pi to the RC car receiver (more on that).
                            </p>

                            <h4>Credentials</h4>
                            <p>
                                Paste the following into a new flow. This flow will allow the creation of username &amp;
                                password combinations with the secret key.
                            </p>
    
                            <div class="btn-group btn-group-code" role="group">
                                <button id="show-picar-cred-flow-code" type="button" class="btn btn-info" data-toggle="collapse" data-target="#picar-cred-flow">Show Code</button>
                                <button id="copy-picar-cred-flow-code" type="button" class="btn btn-info">Copy Code</button>
                            </div>

                            <div id="picar-cred-flow" class="collapse hidden-code-block">
                                <pre><code class="json cred-code">  
  [
  {
      "id": "78b167b4.a9f548",
      "type": "function",
      "z": "e536286d.022a58",
      "name": "Get Submitted",
      "func": "msg.driver= msg.payload.driver;\nvar keyobject = {};\nkeyobject[msg.driver] = msg.payload.key;\nmsg.payload = JSON.stringify(keyobject);\nreturn msg;",
      "outputs": 1,
      "noerr": 0,
      "x": 180,
      "y": 100,
      "wires": [
          [
              "16f254da.af2e9b"
          ]
      ]
  },
  {
      "id": "abdf6535.c50fa8",
      "type": "function",
      "z": "e536286d.022a58",
      "name": "Save Cred",
      "func": "var driver = msg.driver;\nvar key = msg.key;\n\nvar keyring = msg.payload || {};\nkeyring[driver] = key;\n\nmsg.payload = JSON.stringify(keyring);\nreturn msg;",
      "outputs": "1",
      "noerr": 0,
      "x": 170,
      "y": 380,
      "wires": [
          [
              "1c3a89fe.3c8ea6"
          ]
      ]
  },
  {
      "id": "1c3a89fe.3c8ea6",
      "type": "file",
      "z": "e536286d.022a58",
      "name": "Put keys",
      "filename": "/home/pi/.picar/www/keys",
      "appendNewline": true,
      "createDir": false,
      "overwriteFile": "true",
      "x": 160,
      "y": 420,
      "wires": []
  },
  {
      "id": "446b2f1.a7503d",
      "type": "file in",
      "z": "e536286d.022a58",
      "name": "Get keys",
      "filename": "/home/pi/.picar/www/keys",
      "format": "utf8",
      "sendError": true,
      "x": 160,
      "y": 300,
      "wires": [
          [
              "b7a6615f.8451c"
          ]
      ]
  },
  {
      "id": "b7a6615f.8451c",
      "type": "json",
      "z": "e536286d.022a58",
      "name": "",
      "x": 150,
      "y": 340,
      "wires": [
          [
              "abdf6535.c50fa8"
          ]
      ]
  },
  {
      "id": "8506b8c2.b64d08",
      "type": "inject",
      "z": "e536286d.022a58",
      "name": "New Driver",
      "topic": "",
      "payload": "{\"driver\":\"\",\"key\":\"\"}",
      "payloadType": "json",
      "repeat": "",
      "crontab": "",
      "once": false,
      "x": 160,
      "y": 60,
      "wires": [
          [
              "78b167b4.a9f548"
          ]
      ]
  },
  {
      "id": "d1f7af12.d2379",
      "type": "function",
      "z": "e536286d.022a58",
      "name": "Get Cred",
      "func": "msg.key = msg.payload;\nreturn msg;",
      "outputs": 1,
      "noerr": 0,
      "x": 160,
      "y": 180,
      "wires": [
          [
              "b1af3d39.bc287"
          ]
      ]
  },
  {
      "id": "b1af3d39.bc287",
      "type": "file-exists",
      "z": "e536286d.022a58",
      "name": "Check keys",
      "filename": "/home/pi/.picar/www/keys",
      "x": 170,
      "y": 220,
      "wires": [
          [
              "4d81c141.92f8e"
          ]
      ]
  },
  {
      "id": "4d81c141.92f8e",
      "type": "function",
      "z": "e536286d.022a58",
      "name": "keys Exists",
      "func": "if(!msg.payload){\n    return [{payload:'{}'}, null]\n}\nreturn [null, msg];",
      "outputs": "2",
      "noerr": 0,
      "x": 170,
      "y": 260,
      "wires": [
          [
              "2acfe82d.167398"
          ],
          [
              "446b2f1.a7503d"
          ]
      ]
  },
  {
      "id": "2acfe82d.167398",
      "type": "file",
      "z": "e536286d.022a58",
      "name": "Make keys",
      "filename": "/home/pi/.picar/www/keys",
      "appendNewline": true,
      "createDir": false,
      "overwriteFile": "false",
      "x": 360,
      "y": 260,
      "wires": []
  },
  {
      "id": "16f254da.af2e9b",
      "type": "hmac",
      "z": "e536286d.022a58",
      "name": "",
      "algorithm": "HmacSHA512",
      "key": "The-same-secret-key-from-the-auth-flow",
      "x": 150,
      "y": 140,
      "wires": [
          [
              "d1f7af12.d2379"
          ]
      ]
  }
  ]</code></pre>
                            </div>
                            <div class="nodered-screen">
                                <img src="../img/flow-credentials.png" />
                            </div>
                            <p>
                                Again open the hmac node by double clicking it. Enter the same secret key you used in the
                                Authentication flow.
                            </p>

                            <p>
                                To create a new driver from this screen edit the New Driver node by double clicking it.
                                Edit the Payload with the desired credentials:
                            </p>

                            <p>
                                <pre><code class="shell">  {"driver":"[user name]", "key":"[password]"}</code></pre>
                            </p>

                            <p>
                                Click
                                <code class="no-highlight">Done</code>
                                and then
                                <code class="no-highlight">Deploy</code>.
                                Once the flow is deployed click the box on the right of the New Driver node to inject the
                                credentials. The username and a hash of the password will be added to the "keys" file. You
                                can now log into the page with those credentials. Any additional times this is done adds
                                a new user. If a username is reused it should update that user. To delete a user open the
                                "keys" file in
                                <code class="no-highlight">/home/pi/.picar/www/</code>
                                and delete that entry. I hope to come up with a better solution for that in the future.
                            </p>

                            <h4>View the results</h4>
                            <p>
                                Point a browser to the root of the Pi's webserver on port 1880.
                                <code class="html">http://ip_address:1880</code> .
                                If everything has gone according to the plan the PiCar webpage should be visible.
                                There will be no video for the webcam because that has not been setup.
                                If the direction buttons are pressed the Pi should respond by updating the direction text.
                            </p>
                            <hr>
                        </div>
                    </div>
                </div>
            </div>
    </section>

    <section class="zero" id="three">
        <div class="container">
            <div class="row">
                <div class="col-md-8 mx-auto">
                    <h2 class="section-heading text-center">Install Mjpg-Streamer</h2>
                    <div class="text-center">
                        <a href="https://sourceforge.net/projects/mjpg-streamer/">
                            <h2 style="color: rgb(199, 9, 9);">MJPG-Streamer</h2>
                        </a>
                    </div>
                    <div class="row">
                        <div class="col-md-12 guide  mx-auto">

                            <p>
                                This section is adapted from
                                <a href="https://jacobsalmela.com/author/jacob-salmela/">Jacob Salmela's</a>
                                excellent guide. You can check it out his site
                                <a href="https://jacobsalmela.com/2014/05/31/raspberry-pi-webcam-using-mjpg-streamer-over-internet/">here</a>.
                            </p>

                            <h4>Two Methods: Camera Module or USB Webcam</h4>
                            <p>
                                You can use the Raspberry Pi camera module, or any compatible USB Webcam.
                                I found that that the USB Webcam method is easier  and better quality,
                                but there are instructions for both. In the walkthrough, I’ll be using a USB Webcam.
                            </p>

                            <h4>Check If the Pi Recognizes the Webcam</h4>
                            <p>
                                Plug in the USB Webcam and run the command:
                            </p>

                            <p>
                                <pre><code class="shell">  lsusb</code></pre>
                            </p>

                            <p>
                                Look for an entry relating to your Webcam.
                                This is a good indicator it has been recognized.
                            </p>

                            <p>
                                First Install some of the dependencies of MJPG-Streamer.
                                <pre><code class="shell">  sudo apt-get install libjpeg8-dev imagemagick libv4l-dev</code></pre>
                            </p>

                            <p>
                                An adjustment needs to be made: the videodev.h file has been replaced with videodev2.h
                                but this change needs to be made manually.
                                To do this, just create a symbolic link.
                            </p>

                            <p>
                                <pre><code class="shell">  sudo ln -s /usr/include/linux/videodev2.h /usr/include/linux/videodev.h</code></pre>
                            </p>

                            <h4>Download and Compile MJPG-Streamer</h4>
                            <p>
                                Unfortunately, MJPG-Streamer isn’t available via apt-get, so we need to compile it from source.
                                This may be more complex than setting up a Webcam using Motion, but I found MJPG-Streamer to be
                                less resource-intensive so the additional complexity of setting it up is worth it.
                            </p>

                            <p>
                                There are a few different ways to install MJPG-Streamer.
                                The easiest is via subversion, which is what I will walkthrough.
                            </p>

                            <h4>Download via Subversion (svn)</h4>
                            <p>
                                Install subversion (if necessary).
                            </p>

                            <p>
                                <pre><code class="shell">  sudo apt-get install subversion</code></pre>
                            </p>

                            <p>
                                Then, download a copy of the MJPG-Streamer source code to your home folder and move into the
                                directory when the download is complete:
                            </p>

                            <p>
                                <pre><code class="shell">  cd ~
  svn co https://svn.code.sf.net/p/mjpg-streamer/code/mjpg-streamer/ mjpg-streamer
  cd mjpg-streamer</code></pre>
                            </p>

                            <p>
                                There are a lot of plugins included with MJPG-Stream, but for this walkthrough,
                                we will just compile three. If you only plan to use a USB Webcam,
                                you can modify the command below to suit your needs. Just leave off the items you do not want.
                                <ul>
                                    <li>
                                        <b>input_uvc.so (for USB Webcams):</b> copies JPGs from a single input (the Webcam in this
                                        case) to one or more output plugins. This is good for streaming larger images at a higher
                                        framerate with lower CPU usage.
                                    </li>
                                    <li>
                                        <b>input_file.so (for camera module):</b> similar to the above, but copies them from a directory.
                                    </li>
                                    <li>
                                        <b>output_http.so:</b> streams the files to a Webserver.
                                    </li>
                                </ul>
                            </p>

                            <p>
                                <pre><code class="shell">  make mjpg_streamer input_file.so input_uvc.so output_http.so</code></pre>
                            </p>

                            <p>
                                Alternatively, running make, you can compile everything that comes with MJPG-Streamer.
                                I chose to just install what was necessary to save on storage space and resources.
                            </p>

                            <h4>Move MJPG-Streamer to an Alternate Location.</h4>
                            <p>
                                You could run MJPG-Streamer right from the folder after it is compiled (./mjpg_streamer),
                                but it might be better to give it a permanent home.
                            </p>

                            <p>
                                Run the following commands to copy it to a more globally-accessible area:
                            </p>

                            <p>
                                <pre><code class="shell">  sudo cp mjpg_streamer /usr/local/bin
  sudo cp output_http.so input_file.so input_uvc.so /usr/local/lib/
  sudo cp -R www /usr/local/www</code></pre>
                            </p>

                            <p>
                                <code class="no-highlight">/usr/local/</code>
                                is a common place for third-party items or things added to a system by an admin.
                                But you could put them wherever you like, or just leave it where it is.
                                You will just need to modify the paths for the rest of the walkthrough.
                            </p>

                            <h4>Export Paths</h4>
                            <p>
                                If you did try to run Mjpg-Streamer now, it probably returned an error about search paths.
                                This is because right now, the system doesn’t know where to find the files. This is an easy fix.
                                Just append the following line to <code class="shell">~/.bashrc</code>
                                (assuming you ran the commands above to copy the files
                                to <code class="shell">/usr/local/</code> .
                                This will make it a permanent change so that you don’t need to do this every time you log in:
                            </p>

                            <p>
                                <pre><code class="shell">  export LD_LIBRARY_PATH=/usr/local/lib/</code></pre>
                            </p>

                            <p>
                                Now you can either log out and back in again, but it is easier to run the source command to apply
                                the change (this has the same effect as logging in):
                            </p>

                            <p>
                                <pre><code class="shell">  source ~/.bashrc</code></pre>
                            </p>

                            <p>
                                Now, you can simply call Mjpg-Streamer no matter what directory you are in.
                                We are almost ready to start capturing images.
                            </p>

                            <h4>Install A Patch</h4>
                            <p>
                                Many users reported a blank white screen when trying to use it. Apparently,
                                <a href="../assets/input_uvc_patch.txt"> this patch fixes it</a>.
                            </p>

                            <p>
                                <pre><code class="shell">  cd mjpg-streamer-code/mjpg-streamer
  patch -p0 &lt; input_uvc_patch.txt
  make USE_LIBV4L2=true clean all
  sudo make DESTDIR=/usr/local install</code></pre>
                            </p>

                            <h4>Using input_uvc.so to Capture Images</h4>
                            <p>
                                Start running Mjpg-Streamer with the command:
                            </p>

                            <p>
                                <pre><code class="shell">  /usr/local/bin/mjpg_streamer -i "/usr/local/lib/input_uvc.so" -o "/usr/local/lib/output_http.so -w /usr/local/www"</code></pre>
                            </p>

                            <p>
                                These command options are as follows:
                                <ul>
                                    <li>
                                        -i: uses input_uvc.so (the USB Webcam) as input
                                    </li>
                                    <li>
                                        -o: output_http.so for the output (sending the images to a Web server)
                                    </li>
                                    <li>
                                        -w: the directory, which has the HTML, CSS, and JS files: /usr/local/www
                                    </li>
                                </ul>
                            </p>
                            <p>
                                You can cancel the stream by pressing Ctrl+C. If you want to experiment with some other options, 
                                some are listed below:
                                <ul>
                                    <li>
                                        -b: runs in the background.
                                    </li>
                                    <li>
                                        -p: set a default port instead of the default 8080.
                                    </li>
                                    <li>
                                        -c: prompts for username:password.
                                    </li>
                                    <li>
                                        -y YUYV: enables YUYV format and disables MJPEG mode.
                                    </li>
                                    <li>
                                        -fps: framerate (in seconds.)
                                    </li>
                                </ul>
                            </p>

                            <p>
                                If you used the -b option, you will get your prompt back.
                                So how do you stop it from running?
                                After running the command, you will see a line like:
                            </p>
                            <p>
                                <pre><code class="shell">  forked to background (4979)</code></pre>
                            </p>

                            <p>
                                If you want to stop the stream, just run:
                            </p>

                            <p>
                                <pre><code class="shell">  kill 4979</code></pre>
                            </p>

                            <p>
                                which just kills the process ID (PID) of MJPG-Streamer.
                            </p>

                            <h4>View the Webcam Live-stream From a Browser</h4>
                            <p>
                                <b>(while connected to your local network)</b>
                            </p>
                            <p>
                                Even if you have already set up a Webserver, you can still run this without problem because
                                it is accessed on a different (default) port: 8080. So when you navigate to it in a browser,
                                just append :8080 after the IP address:

                                <ul>
                                    <li>
                                        locally: http://localhost:8080
                                    </li>
                                    <li>
                                        from another device on the network: http://ip_address:8080
                                    </li>
                                </ul>
                            </p>

                            <p>
                                I will be skipping the section "Accessing Your Pi Over the Internet" from the original guide.
                                That will be covered later. Now continue on to "Run MJPG-Streamer as a Daemon (Background Service)"
                            </p>

                            <p>
                                <h4>Run MJPG-Streamer as a Daemon (Background Service)</h4>
                                Until now, we have just been launching MJPG-Streamer on an as-needed basis by running a
                                command with our options. If you want to make this more permanent and have the Raspberry Pi
                                start the Webcam stream when it boots up, we need to tell it to do so.
                            </p>

                            <p>
                                There are two scripts below: a very basic one that just runs the command,
                                and an advanced script that will allow you to use the service command to control it:
                            </p>

                            <p>
                                <pre><code class="shell">  sudo service livestream.sh start
  sudo service livestream.sh stop
  sudo service livestream.sh restart</code></pre>
                            </p>

                            <p>
                                <h5>Simple Script</h5>
                                A very simple script to do this is below:
                            </p>

                            <p>
                                I have made some changes to the command from the original guide to optimize the camera for
                                the Pi Car.
                                <ul>
                                    <li>
                                        -r 320x240: set the resolution. This lower resolution is faster and good enough for
                                        smaller screens like iPhones and Android devices
                                    </li>
                                    <li>
                                        -fps 15: sets the frame rate to 15 frames per second. That keeps the stream fast enough
                                        to see where the car is going.
                                    </li>
                                    <li>
                                        -q 50: Lowers the image quality for a faster feed. 50 is fast and an acceptable quality.
                                    </li>
                                </ul>
                            </p>

                            <p>
                                <pre><code class="shell">  sudo nano /etc/init.d/livestream.sh</code></pre>
                            </p>

                            <p>
                                Paste or type the following.
                            </p>

                            <p>
                                <pre><code class="shell">  #!/bin/bash
  usr/local/bin/mjpg_streamer -b -i "/usr/local/lib/input_uvc.so -y -r 320x240 -fps 15 -q 50" -o "/usr/local/lib/output_http.so -w /usr/local/www"</code></pre>
                            </p>

                            <p>
                                Save the script. Make it executable:
                            </p>

                            <p>
                                <pre><code class="shell">  sudo chmod 755 /etc/init.d/livestream.sh</code></pre>
                            </p>

                            <p>
                                This next command makes sure it is executed during boot:
                            </p>

                            <p>
                                <pre><code class="shell">  sudo update-rc.d livestream.sh defaults</code></pre>
                            </p>

                            <p>
                                <h5>Advanced Script</h5>
                                Below is a script that should load MJPG-Streamer at boot and allow use of the service command:
                            </p>

                            <div class="btn-group btn-group-code" role="group">
                                <button id="show-mpjg-streamer-init-code" type="button" class="btn btn-info" data-toggle="collapse" data-target="#mpjg-streamer-init">Show Code</button>
                                <button id="copy-mpjg-streamer-init-code" type="button" class="btn btn-info">Copy Code</button>
                            </div>

                            <div id="mpjg-streamer-init" class="collapse hidden-code-block">
                                <pre><code class="bash mjpeg-streamer-code">  #!/bin/sh
  # /etc/init.d/livestream.sh
  ### BEGIN INIT INFO
  # Provides:          livestream.sh
  # Required-Start:    $network
  # Required-Stop:     $network
  # Default-Start:     2 3 4 5
  # Default-Stop:      0 1 6
  # Short-Description: mjpg_streamer for webcam
  # Description:       Streams /dev/video0 to http://IP/?action=stream
  ### END INIT INFO
  f_message(){
          echo "[+] $1"
  }
 
  # Carry out specific functions when asked to by the system
  case "$1" in
          start)
                  f_message "Starting mjpg_streamer"
                  usr/local/bin/mjpg_streamer -b -i "/usr/local/lib/input_uvc.so -y -r 320x240 -fps 15 -q 50" -o "/usr/local/lib/output_http.so -w /usr/local/www"
                  sleep 2
                  f_message "mjpg_streamer started"
                  ;;
          stop)
                  f_message "Stopping mjpg_streamer…"
                  killall mjpg_streamer
                  f_message "mjpg_streamer stopped"
                  ;;
          restart)
                  f_message "Restarting daemon: mjpg_streamer"
                  killall mjpg_streamer
                  usr/local/bin/mjpg_streamer -b -i "/usr/local/lib/input_uvc.so -y -r 320x240 -fps 15 -q 50" -o "/usr/local/lib/output_http.so -w /usr/local/www"
                  sleep 2
                  f_message "Restarted daemon: mjpg_streamer"
                  ;;
          status)
                  pid=`ps -A | grep mjpg_streamer | grep -v "grep" | grep -v mjpg_streamer. | awk ‘{print $1}’ | head -n 1`
                  if [ -n "$pid" ];
                  then
                          f_message "mjpg_streamer is running with pid ${pid}"
                          f_message "mjpg_streamer was started with the following command line"
                          cat /proc/${pid}/cmdline ; echo ""
                  else
                          f_message "Could not find mjpg_streamer running"
                  fi
                  ;;
          *)
                  f_message "Usage: $0 {start|stop|status|restart}"
                  exit 1
                  ;;
  esac
  exit 0</code></pre>
                                </div>
                                <p><br />
                                    Once saved, run the same commands as above:
                                </p>

                                <p>
                                    <pre><code class="shell">  sudo chmod 755 /etc/init.d/livestream.sh
  sudo update-rc.d livestream.sh defaults</code></pre>
                                </p>

                                <p>
                                    <h3>Success!</h3>
                                </p>

                                <h4>Integrating Mjpg-Stream into the Pi Car</h4>
                                <p>
                                    Now if you go to the Pi Car webserver address
                                    <code class="no-highlight">http://ip_address:1880/</code>
                                    You should see the video.
                                    Sometimes Mjpg-Streamer will not start if there is no camera connected;
                                    to ensure video works, connect the camera before booting the Pi.
                                </p>
                                <hr>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </section>

    <section class="guide" id="four">
        <div class="container">
            <div class="row">
                <div class="col-md-8 mx-auto">
                    <h2 class="section-heading text-center">Assemble the Car</h2>
                    <div class="badges text-center">
                        <div class="badge-link">
                            <img src="../img/rc-car-badge.png" alt="">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 guide  mx-auto">
                            
                            <h4>Open Car Up</h4>
                            <p>
                                Remove the car cover and expose the receiver board.
                                On that board there is a chip, it should be the only or largest chip. 
                                Here is a data sheet for a transmitter and receiver that is common to all RC cars.
                                <a href="../assets/RX2_TX2_Datasheet.pdf">RX2_TX2_Datasheet.pdf</a>
                                On page 5 the second chart lists the pins for RX2.
                                Note the pin numbers.
                                <ul>
                                    <li>Pin 6 (Right)</li>
                                    <li>Pin 7 (Left)</li>
                                    <li>Pin 10 (Backward)</li>
                                    <li>Pin 11 (Forward)</li>
                                </ul>
                            </p>
                            <p>
                                These pins should be the same across most cars.
                            </p>

                            <p>
                                There are two types of chips you may find.
                                <ul>
                                    <li><b>Surface mount</b>
                                        <br />&emsp;More and more cars are using surface mount chips.
                                        These make things a little harder to solder as the connectors are very small.
                                        In this case you may want to leave the chip on and just solder to the appropiate leg.
                                        Leaving the chip on shouldn't matter.
                                        <div class="chip-shot">
                                            <img src="../img/rx2-sm.png" />
                                        </div>
                                    </li>
                                    <br/>
                                    <li><b>Through Hole</b>
                                        <br />&emsp;Older cars and cheaper cars will have larger through hole chips.
                                        It is sometimes easier to remove the chip and solder directly to the board.
                                        In this case use the male end of a jumper wire to go through the hole.
                                        <div class="chip-shot">
                                            <img src="../img/rx2-th.png" />
                                        </div>
                                    </li>
                                </ul>
                            </p>
                            <p>
                                Solder four jumper wires at least 5 inches long to the four direction pins.
                                Some cars have the chip face down so try to color code your wires for easy reference.
                                Solder one more wire to the ground pin of the chip. I prefer a black wire for ground.
                            </p>

                            <h4>Connect the Battery</h4>
                            <p>
                                Also on the board there should be wires to the battery.
                                Cut cut those wires as far from the board as you can.
                                If the battery was connected via a pcb mount battery holder,
                                solder some wires at least 6 inches from the board to those.
                            </p>

                            <p>
                                Open the USB car charger and expose the circuits within.
                                Solder two wires to the positive and ground  connections at least 6 inches from the board.
                            </p>

                            <p>
                                With the ends of the power wires from both the receiver and the USB charger,
                                crimp them into a Tamiya connector together, positive with positive and ground with ground.
                                Use a female connector so it can connected to the battery.
                            </p>

                            <h4>Test the Receiver</h4>
                            <p>
                                Connect your battery to your new connector. Make sure the battery is charged,
                                and if the car has one, the power switch is in the on position.
                                Connect the ground pin or wire to the ground of the power.
                                Apply 5 volts to the wires or pins you have on the receiver.
                                Set the car up on a block before forward or backward.
                                If the car responds correctly, congratulations you have not bought a dud.
                                If not, check your soldering.
                            </p>

                            <h4>Connect the Raspberry Pi</h4>
                            <p>
                                Plug the web cam into the Pi and either attach the Pi to external power or the battery.
                                Connect the female end of the jumper to the pins that correspond to Node-Red.
                                Connect the ground pin from the receiver to the ground pin on the Raspberry Pi.
                                <ul>
                                    <li>35 - Forward</li>
                                    <li>37 - Reverse</li>
                                    <li>38 - Left</li>
                                    <li>36 - Right</li>
                                    <li>34 - Ground</li>
                                </ul>
                            </p>
                            <p>
                                Go to the Pi's web page
                                <code class="html">http://ip_address:1880</code> and test the controls.
                                If there is no response check the flow at
                                <code class="html">http://ip_address:1880/node-red</code>
                                If every thing works, celebrate.
                            </p>

                            <h4>Button it Up</h4>
                            <p>
                                <p>
                                    TBC...
                                </p>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <footer>
        <div class="container">
            <p>&copy; 2017 Jackson 2012. All Rights Reserved.</p>
            <ul class="list-inline">
                <li class="list-inline-item">
                    <!--<a href="#">Privacy</a>-->
                </li>
                <li class="list-inline-item">
                    <!--<a href="#">Terms</a>-->
                </li>
                <li class="list-inline-item">
                    <!--<a href="#">FAQ</a>-->
                </li>
            </ul>
        </div>
    </footer>

    <!-- Bootstrap core JavaScript -->
    <script src="../vendor/jquery/jquery.min.js"></script>
    <script src="../vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="../vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for this template -->
    <script src="../js/jackson2012.js"></script>
    <script src="js/picar.js"></script>

</body>

</html>